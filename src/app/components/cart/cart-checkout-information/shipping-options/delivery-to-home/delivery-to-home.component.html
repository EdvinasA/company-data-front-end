<div class="shipping-main-form">
  <p class="shipping-main-title">Delivery address</p>
  <form [formGroup]="selectedAddressForm">
    <div>
      <div>
        <div class="address-row1">
          {{getSelectedAddressFormField('address').value.firstName}}
          {{getSelectedAddressFormField('address').value.lastName}}
        </div>
        <div class="address-row2">
          {{getSelectedAddressFormField('address').value.address}}
          {{getSelectedAddressFormField('address').value.postalCode}}
          {{getSelectedAddressFormField('address').value.city}}
        </div>
        <div class="address-row2">
          {{getSelectedAddressFormField('address').value.phoneNumber}}
          <a href="/">Update</a>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="shipping-address-selection">
        <mat-form-field appearance="fill">
          <mat-select formControlName="address">
            <mat-option *ngFor="let info of this.user.deliveryInformation" [value]="info">
              {{info.firstName}} {{info.lastName}} {{info.address}} {{info.postalCode}} {{info.city}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <mat-divider></mat-divider>
      <div>
        <div>
          <strong>Wanted delivery time</strong>
        </div>
        <mat-radio-group formControlName="time">
          <div>
            <mat-radio-button value="1">08:00 - 18:00</mat-radio-button>
          </div>
          <div>
            <mat-radio-button value="2">18:00 - 22:00</mat-radio-button>
          </div>
        </mat-radio-group>
      </div>
      <mat-divider></mat-divider>
      <div class="shipping-additional-information">
        <mat-form-field appearance="fill">
          <mat-label>Additional information</mat-label>
          <textarea matInput formControlName="additionalInformation"></textarea>
        </mat-form-field>
      </div>
      <mat-divider></mat-divider>
    </div>
    <p class="shipping-main-information" *ngIf="this.user.deliveryInformation.length === 0">
      Enter the persons information who is going to take
      order and correct address.
      If you buy as a company, companies information will be able to enter in next step.</p>
    <form [formGroup]="shippingDeliveryForm" (ngSubmit)="submitForm()"
          *ngIf="this.user.deliveryInformation.length === 0">
      <div class="first-row-wrapper">
        <div class="shipping-main-first-row-column">
          <mat-form-field appearance="fill">
            <mat-label>First name</mat-label>
            <input matInput formcontrolname="firstName" required
                   value="{{getShippingDeliveryFormField('firstName').value}}">
            <mat-error
              *ngIf="getShippingDeliveryFormField('firstName').touched && getShippingDeliveryFormField('firstName').invalid">
              First name is <strong>required!</strong>
            </mat-error>
          </mat-form-field>
        </div>

        <mat-form-field appearance="fill" class="shipping-main-first-row-object">
          <mat-label>Last name</mat-label>
          <input matInput formcontrolname="lastName" required
                 value="{{getShippingDeliveryFormField('lastName').value}}">
          <mat-error
            *ngIf="getShippingDeliveryFormField('lastName').touched && getShippingDeliveryFormField('lastName').invalid">
            First name is <strong>required!</strong>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="shipping-main-second-row">
        <mat-form-field appearance="fill">
          <mat-label>Phone number</mat-label>
          <input matInput formcontrolname="phoneNumber" required
                 value="{{getShippingDeliveryFormField('phoneNumber').value}}">
          <mat-error
            *ngIf="getShippingDeliveryFormField('phoneNumber') && getShippingDeliveryFormField('phoneNumber').invalid">
            Phone number is <strong>required!</strong>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="shipping-main-second-row">
        <mat-form-field appearance="fill">
          <mat-label>Address</mat-label>
          <input matInput formcontrolname="address" required
                 value="{{getShippingDeliveryFormField('address').value}}">
          <mat-error
            *ngIf="getShippingDeliveryFormField('address') && getShippingDeliveryFormField('address').invalid">
            Address is <strong>required!</strong>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="first-row-wrapper">
        <div class="shipping-main-first-row-column">
          <mat-form-field appearance="fill">
            <mat-label>City</mat-label>
            <input matInput formcontrolname="city" required
                   value="{{getShippingDeliveryFormField('city').value}}">
            <mat-error
              *ngIf="getShippingDeliveryFormField('city') && getShippingDeliveryFormField('city').invalid">
              City is <strong>required!</strong>
            </mat-error>
          </mat-form-field>
        </div>

        <mat-form-field appearance="fill" class="shipping-main-first-row-object">
          <mat-label>Postal code</mat-label>
          <input matInput formcontrolname="postalCode" required
                 value="{{getShippingDeliveryFormField('postalCode').value}}">
          <mat-error
            *ngIf="getShippingDeliveryFormField('postalCode') && getShippingDeliveryFormField('postalCode').invalid">
            Postal code is <strong>required!</strong>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="shipping-main-third-row">
        <button mat-raised-button type="submit" [disabled]="!shippingDeliveryForm.valid">
          Save
        </button>
      </div>
    </form>
  </form>
</div>
